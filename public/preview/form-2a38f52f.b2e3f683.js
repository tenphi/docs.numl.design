parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"sIMg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./index-dbc64107.js");const t={email:t=>(0,e.z)(require("_bundle_loader")(require.resolve("./index-b7a67c28.js"))).then(e=>e.validate(t)),maxlength:(e,t)=>Promise.resolve().then(()=>e.length<=Number(t)),minlength:(e,t)=>Promise.resolve().then(()=>e.length>=Number(t)),required:e=>Promise.resolve().then(()=>{switch(typeof e){case"string":return e.length>0;case"number":return e==e;case"boolean":return!0;default:return null!=e}})};class s extends e.W{static get params(){return{input:!0,primary:!0,provideValue:!1,contextValue:!1}}init(){this.value={},this.validators={},this.checks={},this.fields={},super.init();const{host:e}=this;e.nuSetMod("form",!0),this.value||(this.value={}),this.setContext("form",this),this.context.value=null,this.on("nu-blur",e=>{const t=e.detail;this.fields[t]&&this.verifyData(t)}),this.provideAction("submit",()=>{this.verifyData().then(e=>{e&&(this.emit("input",this.value),this.control())})})}verifyData(e){return(e?Promise.resolve():this.setDirty()).then(()=>this.validate()).then(t=>(this.setErrorProps(e),t))}connected(){super.connected(),setTimeout(()=>this.validate(!0))}setValue(e,t){if("object"!=typeof e)return;const s=JSON.stringify(e);JSON.stringify(e)!==this._serializedValue&&e&&(this._serializedValue=s,this.value=e,t||this.validate().then(e=>{e&&this.emit("input",this.value)}),this.control())}setFieldValue(t,s){const{fields:i}=this;(0,e.i)(this.value[t],s)||(null!=s?(this.value[t]=s,i[t]&&this.resetFieldWarning(t)):delete this.value[t],this.validate())}registerCheck(e,t,s,i){this.validators[e]||(this.validators[e]={}),this.checks[e]||(this.checks[e]={}),this.validators[e][s]=i,this.checks[e][s]=t}registerField(e,t){this.fields[e]=t}unregisterCheck(e,t){delete this.validators[e][t],delete this.checks[e][t]}unregisterField(e){delete this.fields[e]}connectForm(){super.connectForm();const e=this.validators;this.validators=Object.create(this.form.validators),Object.keys(e).forEach(t=>{this.validators[t]=e[t]})}validate(e){return function(e,s){const i=Object.keys(s),r={};return Object.keys(e).forEach(t=>{const s=e[t];"object"==typeof s&&s.$errors&&(r[t]=s.$errors)}),Promise.all(i.map(i=>{const r=s[i];if(!r)return!0;const l=Object.keys(r);return Promise.all(l.map(s=>{const l=r[s],a=t[s];return!a||a(e[i],l)})).then(e=>!e.every(e=>e)&&l.reduce((t,s,i)=>(e[i]||(t[s]=!0),t),{}))})).then(e=>i.reduce((t,s,i)=>(e[i]&&(t[s]=e[i]),t),r)).then(()=>!!Object.keys(r).length&&r)}(this.value,this.validators).then(e=>(e?this.value.$errors=e:delete this.value.$errors,!e))}setDirty(){const t=(0,e.d)(this.host,"[is-form]");return this.dirty=!0,Promise.all(t.map(e=>e.nu("form").then(e=>e.setDirty().then(()=>e.validate()).then(()=>e.setErrorProps()))))}setErrorProps(e){const t=Object.keys(this.validators),s=this.value.$errors||{},i=this.fields,r=this.checks;t.forEach(t=>{if(e&&e!==t)return;const l=Object.keys(this.validators[t]),a=r[t];let o=!1;for(let e of l)s&&s[t]&&s[t][e]&&!o?(o=!0,a[e].setValidity(!1)):a[e].setValidity(!0);i[t]&&i[t].setValidity(!o)})}resetFieldWarning(e){const t=this.fields[e],s=Object.keys(this.validators[e]||{});for(let i of s){const t=`--nu-check-${e}-${i}`;this.host.style.setProperty(t,"none")}t&&t.setValidity(!0)}}exports.default=s;
},{"./index-dbc64107.js":"KYFX","_bundle_loader":"CzFT","./index-b7a67c28.js":[["index-b7a67c28.8f1bfcf4.js","CaLB"],"index-b7a67c28.8f1bfcf4.js.map","CaLB"]}],"wMNP":[function(require,module,exports) {
var t=null;function e(){return t||(t=n()),t}function n(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(t){return(""+t).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}exports.getBundleURL=e,exports.getBaseURL=r;
},{}],"CzFT":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"wMNP"}],"ZinA":[function(require,module,exports) {
module.exports=function(n){return new Promise(function(e,o){var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.charset="utf-8",r.src=n,r.onerror=function(n){r.onerror=r.onload=null,o(n)},r.onload=function(){r.onerror=r.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(r)})};
},{}],0:[function(require,module,exports) {
var b=require("CzFT");b.register("js",require("ZinA"));b.load([]).then(function(){require("sIMg");});
},{}]},{},[0], null)
//# sourceMappingURL=form-2a38f52f.b2e3f683.js.map